{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">Minimum Edit Distance (Levenshtein Distance)</h2>
    
    <!-- Input Section -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row g-3 align-items-end">
                <div class="col-md-4">
                    <label for="inputStr1" class="form-label">字串 1 (Source):</label>
                    <input type="text" class="form-control" id="inputStr1" value="INTENTION">
                </div>
                <div class="col-md-4">
                    <label for="inputStr2" class="form-label">字串 2 (Target):</label>
                    <input type="text" class="form-control" id="inputStr2" value="EXECUTION">
                </div>
                <div class="col-md-4">
                    <button class="btn btn-primary me-2" id="startBtn">開始計算</button>
                    <button class="btn btn-secondary me-2" id="prevBtn" disabled>上一步</button>
                    <button class="btn btn-secondary me-2" id="nextBtn" disabled>下一步</button>
                    <button class="btn btn-success me-2" id="autoBtn" disabled>自動播放</button>
                    <button class="btn btn-danger" id="resetBtn">重置</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Visualization & Explanation -->
    <div class="row">
        <!-- Left: Visualization -->
        <div class="col-md-8">
            <div class="card mb-4">
                <div class="card-header">DP 表格 (Edit Distance Table)</div>
                <div class="card-body text-center">
                    <div class="table-responsive">
                        <table class="table table-bordered table-sm text-center" id="dpTable">
                            <!-- Generated by JS -->
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right: Explanation -->
        <div class="col-md-4">
            <div class="card mb-3">
                <div class="card-header bg-info text-white">
                    <i class="fas fa-info-circle"></i> 演算法說明
                </div>
                <div class="card-body">
                    <div class="alert alert-primary" role="alert" id="step-explanation">
                        請輸入兩個字串，點擊「開始計算」。
                    </div>
                    
                    <div class="mt-3">
                        <h5>定義:</h5>
                        <p>$dp[i][j]$: 將 $str1[1..i]$ 轉換為 $str2[1..j]$ 的最小編輯距離。</p>
                        
                        <h5>操作與成本:</h5>
                        <ul>
                            <li><strong>Insertion (插入)</strong>: Cost 1</li>
                            <li><strong>Deletion (刪除)</strong>: Cost 1</li>
                            <li><strong>Substitution (替換)</strong>: Cost 1 (若字元不同), 0 (若相同)</li>
                        </ul>
                        
                        <h5>遞迴式 (DP):</h5>
                        <p>
                            若 $str1[i] == str2[j]$:
                            $$dp[i][j] = dp[i-1][j-1]$$
                            否則:
                            $$dp[i][j] = 1 + \min \begin{cases} dp[i-1][j] & \text{(Del)} \\ dp[i][j-1] & \text{(Ins)} \\ dp[i-1][j-1] & \text{(Sub)} \end{cases}$$
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/med.js') }}"></script>
{% endblock %}
